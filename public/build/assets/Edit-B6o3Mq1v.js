import{C as h,r as _,c as U,o as i,w as b,a as t,b as g,u as r,P as x,d as P,e as u,f as d,g as n,n as c,v as p,t as l,h as V,i as C}from"./app-DjpV61ds.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-Tjkf4BgJ.js";import{A as B}from"./arrow-left-CfdiPcn5.js";import{U as I}from"./upload-Cdekot2n.js";import"./index-DZNX4tyg.js";import"./useForwardExpose-Bc2mgacP.js";import"./RovingFocusGroup-XmCzUNCh.js";import"./LOGO-B8OI8nZh.js";import"./briefcase-zbWCfF69.js";const N={class:"space-y-6"},E={class:"flex items-center justify-between"},M={class:"flex items-center"},S={class:"bg-white rounded-lg shadow"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:"md:col-span-2"},L={key:0,class:"mt-1 text-sm text-red-600"},T={class:"md:col-span-2"},$={key:0,class:"mt-1 text-sm text-red-600"},F={key:0,class:"mt-1 text-sm text-red-600"},H={key:0,class:"mt-1 text-sm text-red-600"},O={key:0,class:"mt-1 text-sm text-red-600"},R={key:0,class:"mt-1 text-sm text-red-600"},q={class:"md:col-span-2"},z={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},J={class:"space-y-1 text-center"},K={class:"flex text-sm text-gray-600"},Q={for:"image",class:"relative cursor-pointer bg-white rounded-md font-medium text-orange-600 hover:text-orange-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-orange-500"},W={key:0,class:"mt-4"},X=["src"],Y={key:1,class:"mt-1 text-sm text-red-600"},Z={class:"flex justify-end space-x-3"},ee=["disabled"],ue={__name:"Edit",props:{project:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(y){const a=y,v=[{title:"Dashboard",href:"/dashboard"},{title:"Projects",href:"/admin/projects"},{title:"Edit Project",href:`/admin/projects/${a.project.id}/edit`}],o=h({title:a.project.title,description:a.project.description,place:a.project.place,status:a.project.status,category:a.project.category,duration:a.project.duration,image:null}),f=_(a.project.image?`/storage/${a.project.image}`:null),j=m=>{const e=m.target.files[0];if(e){o.image=e;const s=new FileReader;s.onload=k=>{f.value=k.target.result},s.readAsDataURL(e)}},w=()=>{o.put(route("admin.projects.update",a.project.id),{method:"put"})};return(m,e)=>(i(),U(D,{breadcrumbs:v},{default:b(()=>[t("div",N,[t("div",E,[t("div",M,[g(r(x),{href:m.route("admin.projects.index"),class:"text-gray-600 hover:text-gray-900 mr-4"},{default:b(()=>[g(r(B),{class:"w-5 h-5"})]),_:1},8,["href"]),e[6]||(e[6]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Edit Project"),t("p",{class:"mt-2 text-gray-600"},"Update project information")],-1))])]),t("div",S,[t("form",{onSubmit:P(w,["prevent"]),class:"p-6 space-y-6"},[t("div",A,[t("div",G,[e[7]||(e[7]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"}," Project Title ",-1)),u(t("input",{id:"title","onUpdate:modelValue":e[0]||(e[0]=s=>r(o).title=s),type:"text",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",{"border-red-500":r(o).errors.title}])},null,2),[[p,r(o).title]]),r(o).errors.title?(i(),d("p",L,l(r(o).errors.title),1)):n("",!0)]),t("div",T,[e[8]||(e[8]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Description ",-1)),u(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=s=>r(o).description=s),rows:"4",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",{"border-red-500":r(o).errors.description}])},null,2),[[p,r(o).description]]),r(o).errors.description?(i(),d("p",$,l(r(o).errors.description),1)):n("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{for:"place",class:"block text-sm font-medium text-gray-700 mb-2"}," Location ",-1)),u(t("input",{id:"place","onUpdate:modelValue":e[2]||(e[2]=s=>r(o).place=s),type:"text",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",{"border-red-500":r(o).errors.place}])},null,2),[[p,r(o).place]]),r(o).errors.place?(i(),d("p",F,l(r(o).errors.place),1)):n("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700 mb-2"}," Status ",-1)),u(t("select",{id:"status","onUpdate:modelValue":e[3]||(e[3]=s=>r(o).status=s),class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",{"border-red-500":r(o).errors.status}])},e[10]||(e[10]=[t("option",{value:"Haijakamilika"},"Haijakamilika",-1),t("option",{value:"Imekamilika"},"Imekamilika",-1)]),2),[[V,r(o).status]]),r(o).errors.status?(i(),d("p",H,l(r(o).errors.status),1)):n("",!0)]),t("div",null,[e[12]||(e[12]=t("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-2"}," Category ",-1)),u(t("input",{id:"category","onUpdate:modelValue":e[4]||(e[4]=s=>r(o).category=s),type:"text",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",{"border-red-500":r(o).errors.category}])},null,2),[[p,r(o).category]]),r(o).errors.category?(i(),d("p",O,l(r(o).errors.category),1)):n("",!0)]),t("div",null,[e[13]||(e[13]=t("label",{for:"duration",class:"block text-sm font-medium text-gray-700 mb-2"}," Duration ",-1)),u(t("input",{id:"duration","onUpdate:modelValue":e[5]||(e[5]=s=>r(o).duration=s),type:"text",placeholder:"e.g., 6 months",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",{"border-red-500":r(o).errors.duration}])},null,2),[[p,r(o).duration]]),r(o).errors.duration?(i(),d("p",R,l(r(o).errors.duration),1)):n("",!0)]),t("div",q,[e[17]||(e[17]=t("label",{for:"image",class:"block text-sm font-medium text-gray-700 mb-2"}," Project Image ",-1)),t("div",z,[t("div",J,[g(r(I),{class:"mx-auto h-12 w-12 text-gray-400"}),t("div",K,[t("label",Q,[e[14]||(e[14]=t("span",null,"Upload a file",-1)),t("input",{id:"image",type:"file",accept:"image/*",class:"sr-only",onChange:j},null,32)]),e[15]||(e[15]=t("p",{class:"pl-1"},"or drag and drop",-1))]),e[16]||(e[16]=t("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 10MB",-1))])]),f.value?(i(),d("div",W,[t("img",{src:f.value,alt:"Preview",class:"h-32 w-32 object-cover rounded-lg"},null,8,X)])):n("",!0),r(o).errors.image?(i(),d("p",Y,l(r(o).errors.image),1)):n("",!0)])]),t("div",Z,[g(r(x),{href:m.route("admin.projects.index"),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500"},{default:b(()=>e[18]||(e[18]=[C(" Cancel ")])),_:1},8,["href"]),t("button",{type:"submit",disabled:r(o).processing,class:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50"},l(r(o).processing?"Updating...":"Update Project"),9,ee)])],32)])])]),_:1}))}};export{ue as default};
